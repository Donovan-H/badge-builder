<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-overlay-behavior/iron-overlay-behavior.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/marked-element/marked-import.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">


<link rel="import" href="../../bower_components/wysiwyg-e/wysiwyg-e.html">
<link rel="import" href="../../bower_components/wysiwyg-e/wysiwyg-tool-behavior.html">
<link rel="import" href="../../bower_components/wysiwyg-e/wysiwyg-tool-styles.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/bold.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/italic.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/underline.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/clear.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/link.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/image.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/ordered.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/unordered.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/justify.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/heading.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/undo.html">
<link rel="import" href="../../bower_components/wysiwyg-e/tools/redo.html">

<link rel="import" href="../../bower_components/juicy-html/juicy-html.html">

<link rel="import" href="../behaviors/editable-behavior.html">
<link rel="import" href="../behaviors/datamodel-behavior.html">

<!--
Content component for html content such as paragraphs, images, lists
-->
<dom-module id="content-html">

  <style>
    :host {
      display: block;
      box-sizing: border-box;
    }

    paper-input {
      display: inline-block;
      width: 100%;
    }
    
    paper-material {
      text-align: left;
      padding: 10px 20px; 
      margin-top: 20px;
    }
  </style>

  <template>
    <paper-material hidden="[[!edit]]">     
      <h3>Text and Image Content Element</h3>
      <paper-tooltip>This element is a full text editor and allows you to input and style text and images in html format. You can see what the user view of this will look like by clicking on the cog icon in the blue banner, and selecting "Read-only"</paper-tooltip> 

      <wysiwyg-e class="flex" style="height:500px" value="{{text}}" >
        <wysiwyg-tool-bold class="wysiwyg-tool"></wysiwyg-tool-bold>
        <wysiwyg-tool-italic class="wysiwyg-tool"></wysiwyg-tool-italic>
        <wysiwyg-tool-underline class="wysiwyg-tool"></wysiwyg-tool-underline>
        <!--<wysiwyg-tool-clear class="wysiwyg-tool"></wysiwyg-tool-clear>-->
        <!--<wysiwyg-tool-link class="wysiwyg-tool"></wysiwyg-tool-link>-->
        <wysiwyg-tool-image class="wysiwyg-tool"></wysiwyg-tool-image>
        <wysiwyg-tool-ordered class="wysiwyg-tool"></wysiwyg-tool-ordered>
        <wysiwyg-tool-unordered class="wysiwyg-tool"></wysiwyg-tool-unordered>
        <wysiwyg-tool-justify class="wysiwyg-tool" right center full></wysiwyg-tool-justify>
        <wysiwyg-tool-heading class="wysiwyg-tool" h1 h2 h3 h4 h5 h6></wysiwyg-tool-heading>
        <wysiwyg-tool-undo class="wysiwyg-tool"></wysiwyg-tool-undo>
        <wysiwyg-tool-redo class="wysiwyg-tool"></wysiwyg-tool-redo>
      </wysiwyg-e> 
      <content></content>      
    </paper-material>
  
    <template is="dom-if" if="[[!edit]]" >
      <template is="juicy-html" content$="{{text}}" > </template>
    </template>
    
  </template>



</dom-module>

<script>

  ContentHTML = Polymer({
    is: 'content-html',
    properties: {

     /**
       * This is the text that will be displayed in the html editor. The users text.
       * @type {string}
       */
      text: {
        type: String,
        value: function() {
          return "";
        }
      }

    },

    // Element Behavior
    getData: function(){
      return {
        elementType: this.localName,
        text: this.text
      };
    },

    behaviors: [
      QuizBehaviors.EditableBehavior,
      QuizBehaviors.DataModelBehavior
    ]   

  });

</script>
